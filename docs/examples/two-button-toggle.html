<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Two Button Toggle - UIstate Documentation</title>
  <link rel="stylesheet" href="main.css">
</head>
<body>
  <header>
    <div class="container">
      <h1>UIstate Documentation</h1>
      <nav>
        <ul>
          <li><a href="../index.html">Home</a></li>
          <li><a href="../getting-started.html">Getting Started</a></li>
          <li><a href="../examples/index.html" class="active">Examples</a></li>
          <li><a href="../api.html">API</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="container">
    <h1>Two Button Toggle Example</h1>
    
    <p>This documentation explains the Two Button Toggle example, which demonstrates how to manage multiple independent states using UIstate's Attribute-Driven State Inheritance (ADSI) approach.</p>
    
    <p><a href="../../examples/basic/two-button-toggle/index.html">View the live example</a></p>
    
    <div class="concept">
      <h2>Core Concept: Independent State Management</h2>
      <p>Building on the foundation of ADSI, this example shows how to:</p>
      <ul>
        <li>Manage multiple independent state elements on the same page</li>
        <li>Use data attributes to track state for each element separately</li>
        <li>Apply specific styling to different elements based on their individual states</li>
      </ul>
    </div>

    <div class="example-walkthrough">
      <h2>Interactive Walkthrough</h2>
      <p>Let's build this from scratch using the browser's devtools. Open <a href="https://example.com" target="_blank">example.com</a> in a new tab and open your browser's developer console.</p>

      <p>Copy-paste the styles into the devtools:</p>
      <pre><code class="language-css">
button {
  padding: 10px 20px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 16px;
  margin: 10px;
  transition: all 0.3s ease;
}

button[data-uis-state="inactive"] {
  background-color: #f0f0f0;
  color: #333;
}

button[data-uis-state="active"] {
  background-color: #4CAF50;
  color: white;
}

button[data-uis-id="button1"][data-uis-state="active"] {
  background-color: #2196F3; /* Blue */
}

button[data-uis-id="button2"][data-uis-state="active"] {
  background-color: #FF9800; /* Orange */
}
      </code></pre>

      <p>Now, let's create two toggle buttons:</p>
      <pre><code class="language-javascript">
// Use example.com's div as a container for our buttons
let ctr = document.getElementsByTagName('div')[0];

// Create first toggle button
let button1 = document.createElement('button');
button1.textContent = 'Turn On';
button1.setAttribute('data-uis-state', 'inactive');
button1.setAttribute('data-uis-id', 'button1');
ctr.appendChild(button1);

// Create second toggle button
let button2 = document.createElement('button');
button2.textContent = 'Turn On';
button2.setAttribute('data-uis-state', 'inactive');
button2.setAttribute('data-uis-id', 'button2');
ctr.appendChild(button2);
      </code></pre>

<p>This results in the following structure on the page:</p>
<pre><code class="language-html">
&lt;body class="vsc-initialized"&gt;
  &lt;div&gt;
    &lt;h1&gt;Example Domain&lt;/h1&gt;
    &lt;p&gt;This domain is for use in illustrative examples in documents. You may use this
    domain in literature without prior coordination or asking for permission.&lt;/p&gt;
    &lt;p&gt;&lt;a href="https://www.iana.org/domains/example"&gt;More information...&lt;/a&gt;&lt;/p&gt;
    &lt;button data-uis-state="inactive" data-uis-id="button1"&gt;Turn On&lt;/button&gt;
    &lt;button data-uis-state="inactive" data-uis-id="button2"&gt;Turn On&lt;/button&gt;
  &lt;/div&gt;
&lt;/body&gt;
</code></pre>

      <p>Now, let's add event listeners to handle state changes for each button:</p>
      <pre><code class="language-javascript">
// Add click handlers to both buttons
document.querySelectorAll('button').forEach(button => {
  button.addEventListener('click', function() {
    // Get the current state from the DOM
    const currentState = this.getAttribute('data-uis-state');
    
    // Toggle the state
    const newState = currentState === 'active' ? 'inactive' : 'active';
    
    // Update the DOM - this is the only state change needed!
    this.setAttribute('data-uis-state', newState);
    
    // Update text content based on state
    this.textContent = newState === 'active' ? 'Turn Off' : 'Turn On';
  });
});
      </code></pre>

      <p>Try clicking each button! You'll notice that:</p>
      <ul>
        <li>Each button maintains its own independent state</li>
        <li>Clicking one button doesn't affect the state of the other</li>
        <li>Each button has its own unique active color</li>
        <li>The text content updates based on each button's individual state</li>
      </ul>

      <p>The key insight here is that each element maintains its own state through data attributes, allowing for independent state management without complex JavaScript state objects.</p>
    </div>

    <div class="paradigm-shift">
      <h3>Independent State Management</h3>
      <p>What you've just seen demonstrates a key advantage of UIstate's approach:</p>
      <ul>
        <li><strong>Element-Centric State</strong> - Each DOM element maintains its own state via data attributes</li>
        <li><strong>No Global State Object</strong> - No need for a centralized JavaScript state object</li>
        <li><strong>Automatic Isolation</strong> - State changes to one element don't affect others</li>
        <li><strong>Declarative Styling</strong> - CSS selectors automatically apply the right styles based on state</li>
      </ul>
      <p>This approach scales naturally to any number of elements, each maintaining their own independent state without complex state management code.</p>
    </div>
  
    <div class="section-divider">
      <h2>Implementation Details</h2>
      <p>Now let's look at how these principles are applied in our example</p>
    </div>

    <div class="implementation-details">
      <h3>HTML Structure</h3>
      <p>The example consists of two toggle buttons, each with its own state attribute:</p>
      <pre><code class="language-html">
&lt;button class="button-toggle" data-uis-state="inactive" data-uis-id="button1"&gt;
  &lt;span class="button-toggle-text"&gt;Turn On&lt;/span&gt;
&lt;/button&gt;

&lt;button class="button-toggle" data-uis-state="inactive" data-uis-id="button2"&gt;
  &lt;span class="button-toggle-text"&gt;Turn On&lt;/span&gt;
&lt;/button&gt;
      </code></pre>

      <p>Note the key attributes that enable independent state tracking:</p>
      <ul>
        <li><code>data-uis-state</code> - Tracks the current state of each button independently</li>
        <li><code>data-uis-id</code> - Uniquely identifies each button for specific styling</li>
      </ul>

      <h3>CSS for State-Driven Styling</h3>
      <p>The CSS uses attribute selectors to apply styles based on each button's state:</p>
      <pre><code class="language-css">
/* Shared state styling */
.button-toggle[data-uis-state="inactive"] {
  background-color: #f0f0f0;
  color: #333;
}

.button-toggle[data-uis-state="active"] {
  background-color: #4CAF50;
  color: white;
}

/* Button-specific styling */
.button-toggle[data-uis-id="button1"][data-uis-state="active"] {
  background-color: #2196F3; /* Blue */
}

.button-toggle[data-uis-id="button2"][data-uis-state="active"] {
  background-color: #FF9800; /* Orange */
}
      </code></pre>

      <p>This approach allows for both:</p>
      <ul>
        <li><strong>Shared Styling</strong> - Common styles for all buttons in the same state</li>
        <li><strong>Specific Styling</strong> - Unique styles for individual buttons using compound selectors</li>
      </ul>

      <h3>JavaScript</h3>
      <p>The JavaScript is minimal, handling state changes for all buttons with a single event listener:</p>
      <pre><code class="language-javascript">
document.querySelectorAll('.button-toggle').forEach(button => {
  button.addEventListener('click', function() {
    const currentState = this.getAttribute('data-uis-state');
    const newState = currentState === 'active' ? 'inactive' : 'active';
    
    // Update the DOM - this is the only state change needed!
    this.setAttribute('data-uis-state', newState);
    
    // Update text content based on state
    const textElement = this.querySelector('.button-toggle-text');
    textElement.textContent = newState === 'active' ? 'Turn Off' : 'Turn On';
  });
});
      </code></pre>

      <p>The key aspects that enable independent state management:</p>
      <ul>
        <li><strong>this Reference</strong> - Each event handler operates on the specific button that was clicked</li>
        <li><strong>Local State Reading</strong> - State is read from the specific element's attributes</li>
        <li><strong>Local State Writing</strong> - State changes are applied only to the clicked element</li>
        <li><strong>No Shared Variables</strong> - No global or shared state variables that could cause interference</li>
      </ul>
    </div>

    <div class="next-steps">
      <h2>Taking It Further</h2>
      <p>This example demonstrates independent state management. The next step is to explore how these independent states can be combined to create <strong>derived state</strong> - where the state of one element depends on the states of other elements.</p>
      <p>Check out the <a href="derived-toggle-state.html">Derived Toggle State</a> example to see how UIstate handles this advanced concept.</p>
    </div>
  </main>

  <footer>
    <div class="container">
      <p>&copy; 2025 UIstate. All rights reserved.</p>
    </div>
  </footer>
</body>
</html>
